run -i chess_analyzis1.py test.pgn 1
run -i chess_analyzis1.py test.pgn 0
r
len(r)
run -i chess_analyzis1.py test.pgn 0
show()
res
res.keys()
ms
game_id
game_id(g)
g
r
res
type(res)
r
r.values
r
type(r)
r.values
r
r[2:]
r.loc[:,2:]
r.loc[:,2:].values
imshow(r.loc[:,2:].values)
clf()
imshow(r.loc[:,2:].values)
imshow?
imshow(r.loc[:,2:].values, origin='lower')
g
imshow?
imshow(r.loc[:,2:].values, origin='lower', cmap='seismic')
close('all')
imshow(r.loc[:,2:].values, origin='lower', cmap='seismic')
vals = r.loc[:,2:].values
vals
fill?
r
r.fillna?
r
r.clip?
r.clip(lower=-3, upper=3)
r
r.loc[:,2:]
r = r.loc[:,2:]
r.clip(lower=-3, upper=3)
r
r.clip(lower=-3, upper=3)
r.clip(lower=-3, upper=3, inplace=True)
r
close('all')
imshow(r.loc[:,2:].values, origin='lower', cmap='seismic')
imshow(r.loc[:,2:].values, origin='lower', cmap='seismic', aspect=2)
imshow(r.loc[:,2:].values, origin='lower', cmap='seismic', aspect=0.5)
close('all')
imshow(r.loc[:,2:].values, origin='lower', cmap='coolwarm', aspect=0.5)
colorbar()
len(r)
x = 2*ones(len(r))
y = arange(len(r))
plot(x,y, 'ko', ms=3)
clf()
imshow(r.loc[:,2:].values, origin='lower', cmap='coolwarm', aspect=0.5)
plot(x,y, 'ks--', ms=2)
res
r
games
len(games)
len(res)
title(game_id(games[0]))
rs
evaluation
r
res
rs
type(rs)
rs[0]
rs[1]
rs[2]
rs[3]
len(rs)
rs
evaluation
rs[0]
rs[1]
rs[2]
r
xlabel('Stockfish #')
ylabel('Trekk #')
r
r.iterrows
r.iterrows()
history
close('all')
run -i chess_analyzis1.py test.pgn 0
close('all')
run -i chess_analyzis1.py test.pgn 0
rr
run -i chess_analyzis1.py test.pgn 0
run -i chess_analyzis1.py test.pgn 1
ls
pck_file
rrr = pickle.load(pck_file, 'rb')
rrr = pickle.load(pck_file)
f = open(PCK_FILE, 'rb')
f = open(pck_file, 'rb')
rrr = pickle.load(f)
f.close()
rrr
res
rrr
type(rrr)
rrr[0]
rrr
run -i chess_analyzis1.py test.pgn 1
run -i chess_analyzis1.py test.pgn 0
f.close()
run -i chess_analyzis1.py test.pgn 0
os.path.exists(PCK_FILE)
run -i chess_analyzis1.py test.pgn 0
close('all')
r
res
rr
rr
run -i chess_analyzis1.py test.pgn 0
run -i chess_analyzis1.py test.pgn
rr
len(rr)
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
rr
len(rr)
for r in rr: print(r)
m = rr.values
v = m[0,0]
v
vals = m[0,:]
vals
v = m[1,0]
v
from optimze import interp1d
from scipy.optimize import interp1d
from scipy.interpolate import interp1d
interp1d(range(len(vals), vals))
interp1d(range(len(vals)), vals)
interp1d(range(len(vals)), vals)(4)
interp1d(vals, range(len(vals)))
interp1d(vals, range(len(vals)))(0.4)
interp1d(vals, range(len(vals)))(0.2)
vals
interp1d?
interp1d(vals, range(len(vals)))(0.2)
interp1d(vals, range(len(vals)), fill_value='extrapolate')(0.2)
len(vals)
vals
len(vals)
vals = m[78,:]
vaÂ¨ls
vals
v = m[79,0]
v
vals = m[77,:]
v = m[78,0]
v
vals
vals
vals.real
vals
run -i chess_analyzis1.py test.pgn
m = rr.values
v = m[78,0]
vals = m[77,:]
vals
INF
rr
res
run -i chess_analyzis1.py test.pgn
m = rr.values
m
v = m[78,0]
vals = m[77,:]
v
vals
history
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
round
%pdb
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
v
vals
i
m[:8,:]
m[:8,:]
m[:9,:]
res
res[:9,:]
res.loc[:9,:]
rr.loc[:9,:]
rr.loc[:9,:]
r.loc[:9,:]
ls
os.unlink('test_t=1s.pck')
run -i chess_analyzis1.py test.pgn
actual
r
r[2:]
r.loc[:10,:]
os.unlink('test_t=1s.pck')
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
rr
rr.loc[:9,:]
rr.loc[:9,:]
r.loc[:9,:]
color
ply
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
actual
r.loc[:9,:]
r.loc[:20,:]
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py test.pgn
run -i chess_analyzis1.py magnus_vs_nepo_wm_game6.pgn
pck_file
PCK_FILE
ld
ls
IS_INITIALIZED
games
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis1.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis1.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis1.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis1.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis1.py magnus_vs_nepo_wm_game6.pgn
title('')
colorbar()
show()
m
m.shape
r.loc[:20,:]
rs
os.unlink('test_t=1s.pck')
run -i chess_analyzis1.py test.pgn
import stockfish
stockfish
stockfish?
stockfish.Stockfish
stockfish.Stockfish?
stk
stk = stockfish.Stockfish(path='c:/MineTing/Tools/stockfish_14_x64_avx2.exe')
stk
stk.get_top_moves(4)
history -f t.py
stk.get_top_moves(10)
stk.get_top_moves?
history
sf = stockfish.Stockfish(path=STOCKFISH_EXE)
sf.
sf.make_moves_from_current_position?
game
moves
moves + 'aa'
moves[0] + 'aa'
str(moves[0])
sf
sf.get_top_moves?
sf.get_top_moves(10)
sf.get_top_moves(40)
sf.get_top_moves(50)
sf.make_moves_from_current_position('e2e4')
sf.get_top_moves(50)
sf.make_moves_from_current_position('e2e4')
sf.make_moves_from_current_position(['e2e4'])
sf.get_top_moves(50)
m = sf.get_top_moves(50)
m
ms = sf.get_top_moves(50)
ms
[m['Centipawn']/100 for m in ms]
ms = sf.get_top_moves(10)
[m['Centipawn']/100 for m in ms]
move
mv
mv = str(move)
mv
ms
[m['Move'] for m in ms]
mv in [m['Move'] for m in ms]
ms
moves
ms
run -i chess_analyzis2.py test.pgn
%pdb
run -i chess_analyzis2.py test.pgn
rr
type(rr)
rr
res
gid
res[gid]
run -i chess_analyzis2.py test.pgn
run -i chess_analyzis2.py test.pgn
sf.make_moves_from_current_position(['e2e4'])
run -i chess_analyzis2.py test.pgn
close('all')
close('all')
run -i chess_analyzis2.py test.pgn
moves
ls
os.unlink('test_t=1s.pck')
run -i chess_analyzis2.py test.pgn
%pdb
os.unlink('test_t=1s.pck')
run -i chess_analyzis2.py test.pgn
run -i chess_analyzis2.py test.pgn
close('all')
run -i chess_analyzis2.py test.pgn
rr
os.unlink('test_t=1s.pck')
run -i chess_analyzis2.py test.pgn
close('all')
run -i chess_analyzis2.py test.pgn
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
aspect
aspect
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
close('all')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis2.py test.pgn
os.unlink('test_t=1s.pck')
run -i chess_analyzis2.py test.pgn
run -i chess_analyzis2.py test.pgn
run -i chess_analyzis2.py test.pgn
run -i chess_analyzis2.py test.pgn
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
res
res.values
res.values()
res.values()[0]
list(res.values())[0]
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
close('all')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
rr
os.unlink('test_t=1s.pck')
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
rr
type(rr)
rr[0]
rr[1]
res
type(res)
res.keys()
list(res.values())[0]
rr
type(rr)
len(rr)
rr[0]
type(rr[0])
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
rr
type(rr)
rr.keys()
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
rr
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
r['eval']
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
res
type(res)
res['eval']
r
r['eval']
type(r['eval'])
df = r['eval']
df
type(df)
df.keys
df.columns
res
type(res)
res
res.items()
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
res
type(res)
res
gid
res[gid]
res[gid]['eval']
vv = res[gid]['eval']
pd.DataFrame(vv)
res.keys()
vv
vv = res[gid]['eval']
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn
rr
actual
os.unlink('magnus_vs_nepo_wm_game6_t=1s.pck')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
do_pickle
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
close('all')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
sf
sf.get_top_moves?
sf.get_best_move?
sf.get_best_move??
sf.depth?
sf.depth()
sf.depth
sf.depth = 10
sf.depth = '10'
sf.get_best_move()
sf.get_best_move()
sf.get_best_move_time?
sf.get_best_move_time(1000)
sf.get_best_move_time(2000)
sf.get_best_move_time(5000)
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
sf.get_parameters
sf.get_parameters()
stockfish.Stockfish(path=STOCKFISH_EXE).get_parameters()
sf.get_parameters()
sf.get_best_move()
sf.get_best_move_time(2000)
sf.get_best_move_time(200)
sf.get_best_move_time(20)
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
f = open(PCK_FILE, 'wb')
pickle.dump(res, f)
f.close()
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
close('all')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
xx = range(n)
n
scatter(x, actual, s=20, c='k')
aa
%
aa
%pdb
aa
scatter(xx, actual, s=20, c='k')
close('all')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
scatter(actual, xx, s=20, c='k')
col
col = ones(n)
col[::2] = 0
col
col = ones(n)
col[1::2] = 0
col
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
scatter(actual, xx, s=20, c=col)
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
col = ones(n)
col[::2] = 0
scatter(actual, xx, s=10, c=col)
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
scatter(actual, xx, s=2, c=col)
close('all')
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
col
col = ones(n)
col[1::2] = 0
col
scatter(actual, xx, s=2, c=col)
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
scatter(actual, xx, s=2, c=col)
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
run -i chess_analyzis2.py magnus_vs_nepo_wm_game6.pgn 0
scatter(actual, xx, s=2, c=col)
rr
rr.iloc[:,0]
figure()
xx
yy = range(n)
rr.iloc[:,0]
evl = rr.iloc[:,0]
evl
plot(evl)
fill_betweenx?
fill_between?
fill_between(yy, evl)
fill_between(yy, evl, color='k')
clf()
plot(evl)
fill_between(yy, evl, color='k')
evl
evl_w = evl[evl>=0]
evl_b = evl[evl<0]
evl_w = evl.copy()
evl_b = evl.copy()
evl_b[evl>=0] = 0
evl_b
evl_b[evl>=0] = NaN
evl_w[evl<0] = NaN
clf()
plot(yy, evl_w, lw=1)
plot(yy, evl_w, lw=1, color='k')
clf()
plot(yy, evl_w, lw=1, color='k')
plot(yy, evl_b, lw=1, color='k')
clf()
plot(yy, evl_w, lw=1, color='r')
plot(yy, evl_b, lw=1, color='b')
fill_between(yy, evl_b, color='b')
fill_between(yy, evl_w, color='r')
ylim(-3, 3)
clf()
plot(evl_w, yy, lw=1, color='r')
plot(evl_b, yy, lw=1, color='b')
fill_between(evl_w, yy, color='r')
clf()
plot(evl_w, yy, lw=1, color='r')
plot(evl_b, yy, lw=1, color='b')
fill_between?
fill_betweenx?
fill_betweenx(zeros(n), evl_w, color='r')
fill_betweenx(evl_w, zeros(n), , color='r')
fill_betweenx(evl_w, zeros(n), color='r')
fill_betweenx?
fill_betweenx(yy, evl_w, 0, color='r')
clf()
plot(evl_w, yy, lw=1, color='r')
plot(evl_b, yy, lw=1, color='b')
fill_betweenx(yy, evl_w, 0, color='r')
fill_betweenx(yy, evl_b, 0, color='b')
xlim(-3,3)
axis('equal')
xlim(-30,30)
xlim(-10,10)
xlim(-10,10)
xlim(-10,10)
xlim(-10,10)
show()
clf()
plot(evl_b, yy, lw=1, color='b')
plot(evl_w, yy, lw=1, color='r')
fill_betweenx(yy, evl_w, 0, color='r')
fill_betweenx(yy, evl_b, 0, color='b')
xlim(-10,10)
xlim(-30,30)
figure(figsize=(3,9))
plot(evl_b, yy, lw=1, color='b')
plot(evl_w, yy, lw=1, color='r')
fill_betweenx(yy, evl_b, 0, color='b')
fill_betweenx(yy, evl_b, 0, color='b')
fill_betweenx(yy, evl_w, 0, color='r')
xlim(-30,30)
xlim(-10,10)
history -f hist.py
