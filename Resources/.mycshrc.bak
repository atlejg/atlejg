#
# atle j. gyllensten
# Wed Aug  8 09:33:39 MDT 2018
#
# what to do when interrupted (ctrl-c)
onintr -

# Check if this is an interactive session
if (! ${?prompt}) goto end    # could i do exit instead of goto ??


# 
setenv ATLEJG $HOME/Tools/atlejg
setenv ACTIVE 
setenv TMP $ACTIVE/TMP
setenv RC $ACTIVE/Atle_Resources

if (-d /project/RCP/active/fluent/) then
   setenv ACTIVE /project/RCP/active/fluent/
   setenv RC $ACTIVE/Atle_Resources
else
   setenv ACTIVE $HOME
   setenv RC $HOME/Tools
endif


# ---------------------- based on /etc/csh.cshrc for Cygwin

# Some neat default settings.
set autocorrect=1
set autolist=ambiguous
unset autologout
set correct=cmd
set echo_style=both
set ellipsis
set histdup=erase
set history=100
unset ignoreeof
set listjobs=long
set listmaxrows=23
set notify=1
set rmstar=1
set savehist=( $history merge )
set showdots=1
limit coredumpsize 1
set pushdtohome
set pushdsilent
set history = 500
if ( (! $?ENVONLY) && $?prompt ) then
set prompt='%c2> '
endif
# dont want redirected output to overwrite files - unless told to (using >!)
set noclobber
set nobeep filec fignore=(.o \~ .BAK)

### MY ENVIRONMENT VARIABLES
#
# need http_proxy to make wget work! sometimes must also use --proxy-user and --proxy-passwd options!
setenv http_proxy http://www-proxy.statoil.no:80
setenv https_proxy http://www-proxy.statoil.no:80  # for example easy_install needs this
setenv use_proxy on
#
setenv EXT_PERL_MODULES $RC/PerlModules    # for: use lib $ENV{'EXT_PERL_MODULES'};
setenv PASSIVE /project/RCP/passive/fluent/
setenv WORK /project/RCP/work/$USER
setenv FLUENT_JOU  ~/Fluent/Jou
# make sure correct license is used (for fluent)
setenv LM_LICENSE_FILE 7241@st-linlic02.st.statoil.no:1055@st-vlic01.st.statoil.no
setenv PATH "${PATH}:${HOME}/bin"
setenv PATH "${PATH}:/prog/Fluent/i686/Fluent.Inc/bin"
setenv PATH "${PATH}:/prog/ecl/grid/macros/"
setenv ECLHOME /prog/ecl/grid
setenv PATH "${PATH}:/prog/ecl/grid/macros"
setenv PATH "${PATH}:/project/res/resscript/"              # statoil res-sim scripts. ref. thorbjorn skille
setenv PATH "${PATH}:$RC/lib/Python/vkip/scripts"                           # vegard kippe stuff
setenv PERLLIB "/project/res/x86_64_RH_5/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi:/project/res/x86_64_RH_5/lib64/perl5/site_perl/5.8.8:/project/res/x86_64_RH_5/lib64/perl5/site_perl:/project/res/x86_64_RH_5/lib64/perl5/5.8.8/x86_64-linux-thread-multi:/project/res/x86_64_RH_5/lib64/perl5/5.8.8:/project/res/x86_64_RH_5/lib64/perl5/x86_64-linux-thread-multi:/project/res/x86_64_RH_5/lib64/perl5:/project/res/x86_64_RH_5/lib/perl5/site_perl/5.8.8:/project/res/x86_64_RH_5/lib/perl5/site_perl:/project/res/x86_64_RH_5/lib/perl5/5.8.8:/project/res/x86_64_RH_5/lib/perl5/x86_64-linux-thread-multi:/project/res/x86_64_RH_5/lib/perl5"

### MY ALIASES
#
# ls-stuff
unalias ls
alias l 'ls -C'
alias la 'ls -a'
alias ll 'ls -l'
alias lst 'ls -lrth'
alias lsl 'ls -lh'
alias lss 'ls -sSh | more'   # better than  ls -s -1 | sort -n -r | more
alias lssr 'ls -sShR | more' # recursive
alias lsd 'find . -type d -maxdepth 1 | sort' # list all dirs in current dir
# really short names for the most used commands ...
alias v 'vi -R' # like view - but using vim
alias m 'more'
alias g 'grep'
alias xterm 'xterm -bg black -fg white'
alias ++ pushd
alias -- popd
alias h history
alias j jobs
# safety first ...
alias rm 'rm -i'
alias cp 'cp -i'
alias mv 'mv -i'
# locations
alias xdone 'display ~/Misc/done.jpg'
alias bergen 'ssh -X be-grid01.be.statoil.no'
alias trondheim 'ssh -X tr-linrgsn002.tr.statoil.no'
alias stavanger     'ssh -X st-linrgs047.st.statoil.no'
alias rio 'ssh -X rio-linrgsn008.rio.statoil.no'
alias ssh_crontab 'ssh -X stj-linrgs039.stj.statoil.no'        # need to be here for crontab
#
alias workbench 'unalias FLUENT_ARCH; /prog/Fluent/ansys_inc/v150/Framework/bin/Linux64/runwb2 ' # workbench starts fluent on its own, dont use environment variables
alias @floviz '@floviz -local -version 2009.2'
alias cmds 'vi $ATLEJG/Resources/cmds'
alias bookshelf 'acroread /prog/ecl/grid/2016.2/manuals/bookshelf.pdf'
alias killps '/prog/script/killps agy'
alias pkill pkill -u $USER  # only kill my jobs
alias convert /usr/bin/convert    # makes sure it is image-magik
alias more less   # less is better than more!
alias xargs 'xargs -p'  # always prompt
alias clean 'rmall *~'
alias df 'df -k'
alias bak do -q \'cp -p \$_ \$_.bak\;ls -l \$_.bak\'
alias cut "cut -d ' '"
alias free 'free -m' # report in Mb
alias du_ 'find . -type d -exec du -s {} \; | sort -n'
alias do 'do -vc'                      # i want do to be verbose - and use tcsh
alias fnm 'readlink -f'                # print full path of the file
alias eclipse '++ $ACTIVE/../reservoir_simulations/agy; pwd; echo "see ~/Misc/cmds for typical eclipse related commands"'
# this couuld be something to check/consider
# source /prog/ecl/script/eclrun.cshrc
alias octave /prog/rdtoolbox/octave/octave
#
# useful for RGS session (got it from HÃ¥kon Kyte)
alias x11win "xrandr --size 1600x900"
alias x11one "xrandr --size 1920x1080"
alias x11two "xrandr --size 3840x1080"
alias x11big1 "xrandr --size 2560x1600"
alias x11big2 "xrandr --size 5120x1600"

# PYTHON STUFF
#
setenv PYTHONPATH "${PYTHONPATH}:$ATLEJG/lib/"                                  # my stuff
setenv PYTHONPATH "${PYTHONPATH}:$RC/lib/Python/vkip"                           # vegard kippe stuff
setenv PYTHONPATH "${PYTHONPATH}:$RC/lib/Python/lib/python2.7/site-packages"    # things i've installed myself
alias python3 /prog/sdpsoft/python3.6.4/bin/python3
alias ipython3 /prog/sdpsoft/python3.6.4/bin/ipython3

# vim stuff
#
setenv EDITOR vim
alias vimdiff "vimdiff -c 'syntax off'"  # focus on differences - not syntax

#
# FLUENT STUFF
#
setenv FLUENT_ARCH lnamd64
alias fluent /prog/Fluent/ansys_inc_V16.2/ansys_inc/v162/fluent/bin/fluent -cc
alias cfdpost /prog/Fluent/ansys_inc_V16.2/ansys_inc/v162/CFD-Post/bin/cfx5post

# GAMBIT stuff
# Wed Jan 13 12:03:05 MET 2016
# gambit will only work on selected disks... for now, i use /tmp. remember copying afterwards!!
# must use LD_PRELOAD as well. for documentation see $HOME/Tools/memcpy-preload.c
alias gambit_  'echo "REMEMBER: GOTO /tmp"; setenv FLUENT_ARCH lnx86; setenv RELEASE 2.3.16; setenv LM_LICENSE_FILE 7241@st-vlic01.st.statoil.no; setenv LD_PRELOAD $HOME/Tools/memcpy-preload.so; /prog/Fluent/i686/Fluent.Inc/bin/gambit'

# useful directories
setenv KRISTINE /project/RCP/active/reservoir_simulations/krhal/ERT/ert/Simulations
setenv TT /project/RCP/active/reservoir_simulations/agy/Peregrino/Shoebox/Simul/Version12
setenv PY $HOME/Tools/lib/Python/AtlejgTools/















# OLD STUFF ...
#
#setenv PYTHONPATH /project/res/x86_64_RH_6/share/ert/release/2.1/lib/python2.7/site-packages:$PYTHONPATH                       # avoid rng_init_mode_enum error! 9/4-18
# running pylab gets increasingly difficult...
# see http://wiki.statoil.no/wiki/index.php/Python
# pylab is now found in ~/bin/pylab
#alias pylab 'ipython --colors LightBG --pylab --logfile=ipython_log.py -i $HOME/lib/Python/pythonstartup'
# TEMPORARY FIX: joachim hove 18/6-13
#setenv ERT_VERSION "ecl_queue"
#setenv PYTHONPATH "/project/res/x86_64_RH_5/share/ert/release/ecl_queue/python:${PYTHONPATH}"
#setenv PYTHONPATH "/project/RCP/active/fluent/Atle_Resources/lib/Python/Tools/lib/python2.7/site-packages:${PYTHONPATH}"  # to use PIL.Image
#
##source /project/res/SDP_cshrc # moved to .cshrc-file
#setenv ERT_EXPERIMENTAL 1     # see mail joachim hove 8/2-12
## for some stupid reason, SDP_cshrc does not what it is supposed to when called here,
## so it is now attached to pylab command (see below).
## it is imperative that the unsetenv SDP_setup_done is done before calling it
##unsetenv SDP_setup_done       # see mail joachim hove 8/2-12
##source /project/res/SDP_cshrc # see mail joachim hove 8/2-12
#if ! $?LD_LIBRARY_PATH then
#   setenv LD_LIBRARY_PATH ""
#endif
#setenv LD_LIBRARY_PATH "${LD_LIBRARY_PATH}/project/res/x86_64_RH_3/lib/python/lib:" # to make python ert library work
#setenv LD_LIBRARY_PATH "${LD_LIBRARY_PATH}/project/res/x86_64_RH_5/lib/python/lib:" # to make python ert library work
##setenv LD_LIBRARY_PATH "/prog/LSF/8.0/linux2.4-glibc2.2-x86_64/lib:/local/lib:/global/distlib:/global/lib:/project/res/x86_64_RH_3/lib/python/lib" # to make python ert library work
##alias ipython 'ipython -colors LightBG'
##alias pylab   'ipython -pylab -log' $HOME/Tools/pythonstartup  # old ipython
##
## pylab
#alias pylab   'unsetenv SDP_setup_done; source /project/res/SDP_cshrc; ipython --colors LightBG --pylab --logfile=ipython_log.py -i $HOME/Tools/pythonstartup'
##
## this one translates matlab-code into python. must have 'from ompc include *'
## to make it work, but anyway it helps the translation
#alias m2py "python $RC/lib/Python/ompc/ompc/ompcply.py"
##
## make sure we use sdpsoft python, not my own built python
##alias python "$TOOLS/Python/bin/python"
##setenv PATH  "$TOOLS/Python/bin/:${PATH}"
#setenv PYTHON "2.6"
#setenv QT_VERSION "4.7.1"
#source /prog/sdpsoft/environment.csh
#setenv PYTHONPATH $RC/lib/Python
#
#
#alias bsub $HOME/bin/bsub
#alias bjobs $HOME/bin/bjobs
#setenv PATH  "$TOOLS/vim/bin/:${PATH}"  # doesnt work on RHEL6
# where are the big files ??
#alias listbysize 'find . -name "*" -and -type f -exec ls -l {} \; | sort -k 5 -n -r | awk "NR%2==1" | more'
#alias listbysize 'find . -name "*" -and -type f -ls | sort -k 7 -n -r | more'
#alias egrep 'grep -e Problems -e Warnings -e Errors -e elapsed'
#alias windows 'rdesktop -u agy@statoilhydro.com -g 1280x1024 -a 16 -k no LT-569511.client.statoil.net'
#if (`hostname | grep -i rio` != '') then
#else
#endif
## no-beep terminal -> too much complains for non-display shells (cannot open display ...)
#alias gambit_list 'gambit -inp ~/Config/list.jou'
#xset b off
#alias lmstat1 'lmstat -a | grep "Users of fluentall"'
#alias lmstat2 'lmstat -f fluentall'
#setenv FLUENT_ARCH lnx86
#source /prog/LSF/conf/cshrc.lsf # included by John Hybertsen to be able to start eclipse from unix shell

# goto-label...
end:
